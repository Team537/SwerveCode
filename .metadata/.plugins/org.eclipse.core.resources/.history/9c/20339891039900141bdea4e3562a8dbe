#ifndef THING_H
#define THING_H
#include "Schematic.h"
#include "cmath"
#include "WPILib.h"

class Thing
{
	
	Victor BLDVictor, BRDVictor;
	Encoder LEnc, REnc; 
	float deadband;
	PIDController BLSpd, BRSpd;
	Timer inittimer;
	Solenoid dshift;
	
public:
	//void SetVariables(float Magnitude, float DirectionRadians, float Twist);
	Thing(void):
		BLDVictor(BLD_VICTOR),
		BRDVictor(BRD_VICTOR),
		LEnc(LENC,true,CounterBase::k4X),
		REnc(RENC,true,CounterBase::k4X),
		BLSpd( LP,0, 0, &LEnc, &BLDVictor),
		BRSpd(RP,0, 0, &REnc, &BRDVictor),
		dshift(1,1)
	{
		deadband = .1;
		//PID
		BLSpd.SetAbsoluteTolerance(3);
		BLSpd.SetOutputRange(-1,1);
		LEnc.SetDistancePerPulse(0.05026548);
		LEnc.SetPIDSourceParameter(PIDSource::kRate);
		BRSpd.SetAbsoluteTolerance(3);
		BRSpd.SetOutputRange(-1,1);
		REnc.SetDistancePerPulse(0.05026548);
		REnc.SetPIDSourceParameter(PIDSource::kRate);
		//Other Sets
		//Potfeedbackmax = 850;
		//Potfeedbackmin = 50;
		Lencmax = 0;
		Rencmax = 0;
		firsttime =true;
	}
	void Setspeed(float Laxis, float Raxis, int bshifth, int bshiftl, int buttonswitch);

private:
	double cLencrate, cRencrate;
	double Lencmax, Rencmax;
	bool firsttime;
};

#endif
